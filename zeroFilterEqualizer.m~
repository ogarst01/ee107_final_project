% Olive Garst
% Dec. 2020
function [trimmed, hzt, channelResponse, t, HZF, H, f] = zeroFilterEqualizer(channelResponse, signal, fs, lengthOriginal)
% Olive Garst
% Dec. 2020
%function forcedZeroSign = zeroFilterEqualizer(channelResponse, signal)

channelResponse = channel_impulse_response;
signal = hs_convolved;

% Inputs:   channel impulse response
%           signal to be equalize
%           
% Outputs: equalized signal

% do not put 0's at the last bit (don't pad)

signal2 = signal;
channelResponse2 = channelResponse;

NFFT = 10*length(signal);

H = fft(channelResponse2, NFFT);

HZF = 1./H;

hzt = (ifft(HZF, NFFT));

forcedZeroSign = conv(hzt,signal2);
end